generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model CartItem {
  id               String    @id @default(cuid())
  name             String
  price            Float
  amount           Int
  thumbnail        String
  qty              Int
  title            String
  orderDetailsId   String    
  orderDetails     OrderDetails @relation(fields: [orderDetailsId], references: [id], onDelete: Cascade) 
}

model Product {
  id                   String     @id @default(cuid())
  title                String
  description          String
  category             String
  price                Float
  rating               Float
  brand                String
  weight               Float
  returnPolicy         String
  minimumOrderQuantity Int
  thumbnail            String
  slug                 String
  dimensionsId         String     @unique
  dimensions           Dimensions @relation(fields: [dimensionsId], references: [id])
}

model Dimensions {
  id      String   @id @default(cuid())
  width   Float
  height  Float
  depth   Float
  product Product?
}

model OrderDetails {
  id               String   @id @default(cuid()) 
  items            CartItem[] 
  shippingAddress  String
  paymentMethod    String
  shippingMethod   String
  total            Float
  orderStateId     String   
  orderState       OrderState @relation(fields: [orderStateId], references: [id], onDelete: Cascade)
}

model OrderState {
  id      String        @id @default(cuid()) 
  orders  OrderDetails[] 
}
